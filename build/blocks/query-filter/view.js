import{getContext as e,getElement as a,store as r}from"@wordpress/interactivity";var t={438(e){e.exports=import("@wordpress/interactivity-router")}},s={};function n(e){var a=s[e];if(void 0!==a)return a.exports;var r=s[e]={exports:{}};return t[e](r,r.exports,n),r.exports}r("pikari/gutenberg-query-filter",{actions:{*updateFilters(r){r.preventDefault();const{ref:t}=a(),s=e(),{queryVar:i,pageVar:o}=s,l=t.closest('[data-wp-interactive="pikari/gutenberg-query-filter"]').querySelectorAll('input[type="checkbox"]:checked'),c=Array.from(l).map(e=>e.value),d=new URL(window.location);d.searchParams.delete(o),"page"!==o&&d.searchParams.delete("page"),c.length>0?d.searchParams.set(i,c.join(",")):d.searchParams.delete(i);const{actions:p}=yield Promise.resolve().then(n.bind(n,438));yield p.navigate(d.toString())},*handleSelect(a){a.preventDefault();const r=e(),{queryVar:t,pageVar:s}=r,i=a.target.value,o=new URL(window.location);o.searchParams.delete(s),"page"!==s&&o.searchParams.delete("page"),i?o.searchParams.set(t,i):o.searchParams.delete(t);const{actions:l}=yield Promise.resolve().then(n.bind(n,438));yield l.navigate(o.toString())},*handleSort(a){a.preventDefault();const r=e(),{orderbyVar:t,orderVar:s,pageVar:i}=r,o=a.target.value,l=new URL(window.location);if(l.searchParams.delete(i),"page"!==i&&l.searchParams.delete("page"),o){const[e,a]=o.split("-");l.searchParams.set(t,e),l.searchParams.set(s,a)}else l.searchParams.delete(t),l.searchParams.delete(s);const{actions:c}=yield Promise.resolve().then(n.bind(n,438));yield c.navigate(l.toString())},*search(r){r.preventDefault();const{ref:t}=a(),s=e();let i,o;if("FORM"===t.tagName){const e=t.querySelector('input[type="search"]');i=e.name,o=e.value}else i=t.name,o=t.value;if(o===s.searchValue)return;s.searchValue=o;const l=new URL(window.location),c=s.pageVar||"page";l.searchParams.delete(c),"page"!==c&&l.searchParams.delete("page"),o.trim()?l.searchParams.set(i,o.trim()):l.searchParams.delete(i);const{actions:d}=yield Promise.resolve().then(n.bind(n,438));yield d.navigate(l.toString())}}});